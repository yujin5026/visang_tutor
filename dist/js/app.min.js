const canvas=document.getElementById("jsCanvas"),ctx=canvas.getContext("2d"),colors=document.getElementsByClassName("jsColor"),range=document.getElementById("jsRange"),mode=document.getElementById("jsMode"),save=document.getElementById("jsSave"),erase=document.getElementById("jsErase"),palette=document.getElementById("palette");canvas.width=800,canvas.height=450,ctx.fillStyle="white",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.strokeStyle="#2c2c2c",ctx.fillStyle="#2c2c2c",ctx.lineWidth=2.5,background="white";let painting=!1,filling=!1;stopPainting=(()=>{painting=!1}),onMouseMove=(e=>{console.log(e);const t=e.offsetX,n=e.offsetY;painting?(ctx.lineTo(t,n),ctx.stroke()):(ctx.beginPath(),ctx.moveTo(t,n))}),startPainting=(()=>{painting=!0}),handleCanvasClick=(()=>{filling&&(ctx.fillRect(0,0,canvas.width,canvas.height),background=ctx.fillStyle)}),handleCM=(e=>{e.preventDefault()}),handleSaveClick=(()=>{const e=canvas.toDataURL(),t=document.createElement("a");t.href=e,t.download="PaintJs!!",t.click()}),canvas&&(canvas.addEventListener("mousemove",onMouseMove),canvas.addEventListener("mousedown",startPainting),canvas.addEventListener("mouseup",stopPainting),canvas.addEventListener("mouseleave",stopPainting),canvas.addEventListener("click",handleCanvasClick),canvas.addEventListener("contextmenu",handleCM)),changeColor=(e=>{const t=e.target.style.backgroundColor;ctx.strokeStyle=t,ctx.fillStyle=t}),handleRangeChange=(e=>{const t=e.target.value;ctx.lineWidth=t}),Array.from(colors).forEach(e=>e.addEventListener("click",changeColor)),range&&range.addEventListener("input",handleRangeChange),handleModeClick=(e=>{filling?(filling=!1,mode.innerText="Fill"):(filling=!0,mode.innerText="Paint")}),handleEraseClick=(e=>{painting=!0,ctx.strokeStyle=background}),changeColorByPalette=(e=>{const t=e.target.value;ctx.strokeStyle="#"+t,ctx.fillStyle="#"+t}),mode&&mode.addEventListener("click",handleModeClick),save&&save.addEventListener("click",handleSaveClick),erase&&erase.addEventListener("click",handleEraseClick),palette&&palette.addEventListener("blur",changeColorByPalette);